<template>
    <div class="about" style="display:inline-block;">
        <nav>
            <a @click="goto('history')">{{ $t('about.nav.history') }}</a>
            <a @click="goto('contact')">{{ $t('about.nav.contact') }}</a>
            <a>{{ $t('about.nav.map') }}</a>
        </nav>
        <article class="content">
            <div ref="history" class="history">
                <p>{{ $t('about.history.h1') }}</p>
                <p>{{ $t('about.history.h2') }}</p>
                <p>{{ $t('about.history.h3') }}</p>
                <br/>
                <ul class="briefHistory">
                    <li>
                        <img class="pic" :src="pics.pic2">
                        <div class="picDescription">{{ $t('about.history.t1') }}</div>
                    </li>
                    <li>
                        <img class="pic" :src="pics.pic3">
                        <div class="picDescription">{{ $t('about.history.t2') }}</div>
                    </li>
                    <li>
                        <img class="pic" :src="pics.pic4">
                        <div class="picDescription">{{ $t('about.history.t3') }}</div>
                    </li>
                    <li>
                        <img class="pic" :src="pics.pic5">
                        <div class="picDescription">{{ $t('about.history.t4') }}</div>
                    </li>
                </ul>
            </div>
            <br/>
            <div ref="contact" class="contact">
                <h3>{{ $t('index.title') }}</h3>
                <p>{{ $t('about.contact.phoneNumber') }} {{ phoneNumber }}</p>
                <p>{{ $t('about.contact.email') }} {{ email }}</p>
                <p>{{ $t('about.contact.address') }} {{ $t('about.contact.physicalAddress') }}</p>
            </div>
            <div class="dituAmap">
                <div id="mapContainer">

                </div>
            </div>
        </article>

    </div>
</template>
<script type="text/javascript">
    import pic2 from '../images/photo6.jpeg';
    import pic3 from '../images/photo3.jpeg';
    import pic4 from '../images/photo4.jpeg';
    import pic5 from '../images/photo5.jpeg';

    import i18n from '../scripts/i18n';
    export default {
        i18n,
        methods: {
            goto: function( part ){
                this.$refs[part].scrollIntoView();
            }
        },
        data: ()=> {
            return {
                phoneNumber: '(086) 0571-85150209',
                email: 'wulinacademyarts@gmail.com',
                pics:{
                    pic2: pic3,
                    pic3: pic4,
                    pic4: pic2,
                    pic5: pic5
                }
            };
        },
        mounted: function(){
            window.onLoad  = function(){
                window.map = new AMap.Map('mapContainer');
                // 创建一个 Marker 实例：
                var marker = new AMap.Marker({
                    position: new AMap.LngLat(116.39, 39.9),   // 经纬度对象，也可以是经纬度构成的一维数组[116.39, 39.9]
                    title: '武林书画院'
                });

                // 将创建的点标记添加到已有的地图实例：
                window.map.add(marker);
            };

            var url = 'https://webapi.amap.com/maps?v=1.4.10&key=1accfe63ebc155603fd447be7681e05d&callback=onLoad';
            var jsapi = document.createElement('script');
            jsapi.charset = 'utf-8';
            jsapi.src = url;
            document.head.appendChild(jsapi);



            // 移除已创建的 marker
            // window.map.remove(marker);
        }
    };
</script>
<style scoped>
    .picDescription{
        font-size: 13px;
    }
    .about{
        text-align : center;
        height: 100%;
    }
    .briefHistory{
        list-style-type: none;
        padding: 0;
        margin: 0;
    }
    .briefHistory > li{
        margin: 20px 0;
    }
    .pic{
        width: 600px;
    }
    .picDescription{
        text-align: center;
    }
    .content{
        width: 600px;
        height: 100%;
        text-align: left;
    }
    .contact{
        width: 100%;
        border-left: 5px solid #ccc;
        padding: 5px 15px;
        display: inline-block;
        box-sizing: border-box;
        background: rgb(243, 243, 243);
        color: rgba(160, 160, 160, 1);
    }
    .about > nav{
        text-align: left;
        float: left;
        padding: 10px;
        margin-right: 20px;
    }
    .about > nav > a{
        font-size: 17px;
        color: #444;
        margin: 10px 0;
        display: block;
    }
    .about > article{
        float: left;
    }

    .dituAmap{
        margin: 20px auto;
    }
    #mapContainer{
        height: 500px
    }
</style>